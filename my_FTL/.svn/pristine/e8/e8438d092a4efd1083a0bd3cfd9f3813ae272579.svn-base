/*
** ETNA PROJECT, 12/11/2018 by juzain_d
** ftl
** File description:
**      ...
*/

#ifndef _FTL_H_
#define _FTL_H_

#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <time.h>
#include <fcntl.h>

typedef struct freight_s freight_t;

typedef struct repair_command_s {
    char *str;
    void (*fonc)(ship_t *ship);
} repair_command_t;

typedef struct freight_s {
    char *item;
    freight_t *next;
    freight_t *prev;
}              freight_t;

typedef struct container_s {
    freight_t *first;
    freight_t *last;
    int nb_elem;
}              container_t;

typedef struct navigation_tools_s {
    char *system_state;
    int sector;
    int evade;
}              navigation_tools_t;
    
typedef struct ftl_drive_s {
    char *system_state;
    int energy;
}              ftl_drive_t;

typedef struct weapon_s {
    char *system_state;
    int damage;
}              weapon_t;

typedef struct ship_s {
    int hull;
    weapon_t *weapon;
    ftl_drive_t *drive;
    navigation_tools_t *navigation_tools;
    container_t *container;
}              ship_t;

ship_t *create_ship();
int add_weapon_to_ship(ship_t *ship);
int add_ftl_drive_to_ship(ship_t *ship);
int add_navigation_tools_to_ship(ship_t *ship);
int add_container_to_ship(ship_t *ship);
void add_freight_to_container(ship_t *ship, freight_t *freight);
void del_freight_from_container(ship_t *ship, freight_t *freight);
void get_bonus(ship_t *ship);
void ftl_drive_system_check(ship_t *ship);
void navigation_tools_system_check(ship_t *ship);
void weapon_system_check(ship_t *ship);
void system_control(ship_t *ship);
void ftl_drive_system_repair(ship_t *ship);
void navigation_tools_system_repair(ship_t *ship);
void weapon_system_repair(ship_t *ship);
void my_putstr(char *str);
void my_putstr_color(char *color, char *str);
char *my_strdup(char *str);
int my_strlen(char *str);
void my_putchar(char c);
int my_strcmp(char *s1, char *s2);
char *my_readline();

#endif 
