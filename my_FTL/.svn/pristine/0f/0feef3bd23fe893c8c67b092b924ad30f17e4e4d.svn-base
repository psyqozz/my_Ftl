/*
** ETNA PROJECT, 12/11/2018 by juzain_d
** system repair
** File description:
**      ...
*/

#include "ftl.h"

void ftl_drive_system_repair(ship_t *ship)
{
    my_putstr_color("blue", "repair of the reactor in progress...\n");
    free(ship->drive->system_state);
    ship->drive->system_state = my_strdup("online");
    if (ship->drive->system_state == NULL) 
        my_putstr_color("red", "the reactor repairs failed\n");
    else 
        my_putstr_color("green", "repair complete! reactor system OK!\n");
}

void navigation_tools_system_repair(ship_t *ship)
{
    my_putstr_color("blue", "repair of the navigation tools system in progress...\n");
    free(ship->navigation_tools->system_state);
    ship->navigation_tools->system_state = my_strdup("online");
    if (ship->navigation_tools->system_state == NULL) 
        my_putstr_color("red", "the navigation tools repairs failed\n");
    else 
        my_putstr_color("green", "repair complete! navigation tools system OK!\n");
    
}

void weapon_system_repair(ship_t *ship)
{
    my_putstr_color("blue", "repair of the weapon system in progress...\n");
    free(ship->weapon->system_state);
    ship->weapon->system_state = my_strdup("online");
    if (ship->weapon->system_state == NULL) 
        my_putstr_color("red", "the weapon system repairs failed\n");
    else 
        my_putstr_color("green", "repair complete! weapon system OK!\n");
}
